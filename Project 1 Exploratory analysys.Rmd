---
title: "Project 1 Exploratory Data Analysis"
author: "Elaine Ellerton"
date: "11/5/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r }
library(ggplot2)
library(dbplyr)
library(lubridate)
data <- read.table("/Users/elaine/Desktop/Data sets/Exploratory Data Analysis Project 1/household_power_consumption.txt",na.strings="?", header=T, sep=";")
#change Date column to class "date"
data$Date<-dmy(data$Date)
#subset only 2 days of data
newdata<-subset(data,data$Date >= "2007-02-01" & data$Date <="2007-02-02")
#remove incomplete data
newdata <- newdata[complete.cases(newdata),]
#combine Date and Time 
newdata$DateTime =paste(newdata$Date, newdata$Time)
newdata$DateTime<- ymd_hms(newdata$DateTime)
```

## Including Plots

Plot #1

```{r }
hist(newdata$Global_active_power, col="red", xlab="Global Active Power (kilowatts)", main="Global Active Power")

```
Plot #2
```{r }
with(newdata, plot(DateTime, Global_active_power, type="l", xlab="", ylab="Global Active Power (kilowatts)"))

```
PLot #3
```{r }
with(newdata, plot(DateTime, Sub_metering_1,  type="l", xlab="", ylab="Energy sub metering"))
with(newdata, points(DateTime, Sub_metering_2,  type="l",col="red"))
with(newdata, points(DateTime, Sub_metering_3,  type="l",col="blue"))
legend("topright", lty=1, col= c("black", "red", "blue"), legend=c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"))

```
Plot #4
```{r }
par(mfrow=c(2,2),mar = c(4, 4, 2, 1))
#1
with(newdata, plot(DateTime, Global_active_power, type="l", xlab="", ylab="Global Active Power (kilowatts)"))
#2
with(newdata, plot(DateTime, Voltage, type="l"))
#3
with(newdata, plot(DateTime, Sub_metering_1,  type="l", xlab="", ylab="Energy sub metering"))
with(newdata, points(DateTime, Sub_metering_2,  type="l",col="red"))
with(newdata, points(DateTime, Sub_metering_3,  type="l",col="blue"))
legend("topright", lty=1, col= c("black", "red", "blue"), legend=c("Sub_metering_1", "Sub_metering_2", "Sub_metering_3"), box.lty = 0 )
with(newdata, plot(DateTime, Global_reactive_power, type="l"))


```
All plots saved using dev.copy(png, "title.png", width=480, height=480)
Don't forget to dev.off() each time a plot is saved!